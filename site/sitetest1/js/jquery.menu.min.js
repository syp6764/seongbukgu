/**
 * @name menu
 * @author JungHyunKwon
 * @since 2018-02-23
 * @param {object} option {event : string, cut : object[number || string[number-number] : number], namespace : string}
 * @return {jQueryElement || jQueryObject}
 */
try{!function(e){if("function"!=typeof e){console.log("제이쿼리가 없습니다.");retrurn;}var t=e("html"),a=[],n="_",i={active:"active",state:"state",has:"has",solo:"solo",open:"open",prev:"prev",next:"next",cut:"cut",initialized:"menu_initialized"};function s(e){var t;return arguments.length&&(null===e?t="null":void 0===e?t="undefined":"date"===(t=Object.prototype.toString.call(e).toLowerCase().replace("[object ","").replace("]",""))&&isNaN(new Date(e))?t="Invalid Date":"number"===t?isNaN(e)?t="NaN":isFinite(e)||(t=e.toString()):"console"===t&&(t="object")),t}function l(t){var a=!1;function n(e){var t=!1;try{t=document.documentElement.contains(e)}catch(e){console.log('jquery_exception...');}return e!==window&&e!==document||(t=!0),t}return(n(t)||function(t){var a=!1;if(t instanceof e){var i=t.length;a=[];for(var s=0;s<i;s++){var l=t[s];n(l)&&a.push(l)}var o=a.length;a=!(!o||i!==o)}return a}(t))&&(a=!0),a}function o(t,a){for(var n=[],i=e(t),s="string"==typeof a?a.length:0,l=0,o=i.length;l<o;l++){var r=i.eq(l),d=r.attr("class");if(d)for(var c=0,p=(d=d.split(/\s/)).length;c<p;c++){var v=d[c];v.substring(0,s)===a&&(r.removeClass(v),n.push(v))}}return 1===n.length&&(n=n[0]),n}i.activePrev=i.active+n+i.prev,i.activeNext=i.active+n+i.next,i.actived=i.active+"d",i.activedPrev=i.actived+n+i.prev,i.activedNext=i.actived+n+i.next,e(function(){e.fn.menu=function(r){var d=this.first(),c=d[0]||{},p=c.style,v=function(t){for(var n=e(t),i=[],l=a.length,o=0,r=n.length;o<r;o++){var d=n.eq(o),c=!1,p=0;for(l=a.length;p<l;p++){var v=a[p];if("object"===s(v)&&d.is(v.element)){i.push(p),c=!0;break}}c||i.push(-1)}return 1===i.length&&(i=i[0]),i}(c),h=a[v],u=e.Event("menu");if("string"==typeof r){if(r=r.toLowerCase(),h){var f=h.option;if("destroy"===r){var m=f.namespace;f.$depthCutItem.remove(),d.removeClass(i.initialized),t.removeClass(f.className.globalActive+" "+f.className.globalOpen),o(d,i.state),f.$depthItem.removeClass(i.has+" "+i.solo+" "+i.activePrev+" "+i.active+" "+i.activeNext+" "+i.activedPrev+" "+i.actived+" "+i.activedNext),p.height="",f.$openElement.off("click."+m),f.$closeElement.off("click."+m),f.$depth1.off("mouseover."+m+" mouseleave."+m),f.$depthText.off("click."+m),f.$depthAndText.off("mouseover."+m),f.$depthText.off("keydown."+m),f.$depthTitle1.off("focusin."+m+" focusout."+m),f.$depthTitle2.off("mouseout."+m),a.splice(v,1)}else if("spy"===r){var g=arguments[1];l(g)||(g=f.$activedDepthLastText[0]),g=e(g).first()[0],f.$depthText.is(g)&&f.openMenu.call(g,u)}}}else if(l(c)){var $={width:"",height:""},x=parseInt(d.attr("data-menu-type"),10);function C(e){var t="";return e>0&&(t='ul[data-menu-list="'+e+'"]'),t}function y(t){var a=e(t).parents("li"),n=[];o(d,i.state);for(var s=0,l=a.length;s<l;s++){var c=i.state+(r.$depthItem.index(a[s])+1);n.push(c),d.addClass(c)}return 1===n.length&&(n=n[0]),n}function b(t){var a=!1;return r.$activedDepthLastText.length&&("click"===r.event?(r.$depth1Text.is(t)&&!e(t).closest("li").hasClass(i.actived)||d.is(t))&&(a=!0):a=!0),a?d.menu("spy"):r.closeMenu.call(t,u),t}function T(t,a){var n=e(t);"string"==typeof a&&(a=a.toLowerCase());for(var i=0,s=n.length;i<s;i++)if(r.$depthCutItem.is(n[i])){var l=n.eq(i);"prev"===a?n[i]=l.prev("li")[0]:"next"===a&&(n[i]=l.next("li")[0])}return e(n)}h&&d.menu("destroy"),"object"!==s(r)&&(r={}),r.type=x||1,x||d.attr("data-menu-type",1),r.namespace&&"string"==typeof r.namespace||(r.namespace=d.attr("id")||c.tagName.toLowerCase()+(a.length+1)),"object"!==s(r.cut)&&(r.cut={}),"string"==typeof r.event&&(r.event=r.event.toLowerCase()),"mouse"!==r.event&&"click"!==r.event&&(r.event="mouse"),r.confirm&&"string"==typeof r.confirm||(r.confirm="콘텐츠로 이동하시겠습니까?"),r.$openElement=e('div[data-menu-open="'+r.namespace+'"] button[data-menu-button]'),r.$closeElement=e('div[data-menu-close="'+r.namespace+'"] button[data-menu-button]'),r.className={globalActive:r.namespace+n+i.active,globalOpen:r.namespace+n+i.open},r.$wildCard=d.add(d.find("*")),r.$depth=d.find("div[data-menu-depth]"),r.$depth1=r.$depth.filter('div[data-menu-depth="1"]'),r.$depth1Text=r.$depth1.find('a[data-menu-text="1"], button[data-menu-text="1"]'),r.$depthTitle=r.$depth1.find("div[data-menu-title]"),r.$depthTitle1=r.$depthTitle.filter('[data-menu-title="1"]'),r.$depthTitle2=r.$depthTitle.filter('[data-menu-title="2"]'),r.$depth2=r.$depth.filter('[data-menu-depth="2"]'),r.$depthList=r.$depth.find("ul[data-menu-list]"),r.$depthItem=r.$depthList.children("li"),r.$depthText=r.$depth1.find("a[data-menu-text], button[data-menu-text]"),r.$depthLastText=r.$depthText.last(),r.$depthAndText=r.$depth.not('div[data-menu-depth="1"]').add(r.$depthText),r.$activedDepthLastText=r.$depth1.find("[data-menu-text][data-menu-actived]").filter("a, button").last(),r.$activedDepthItem=r.$activedDepthLastText.parents("li"),r.$wildCard.css("transition-property","none"),$.width=d.outerWidth()||"",$.height=d.outerHeight()||"",r.$wildCard.css("transition-property",""),r.$activedDepthItem.prev("li").addClass(i.activedPrev),r.$activedDepthItem.addClass(i.actived),r.$activedDepthItem.next("li").addClass(i.activedNext),d.addClass(i.initialized);for(var N in r.cut){var w=N.split("-"),I=w.length,L=parseInt(w[0],10),k=parseInt(r.cut[N],10),P=d;if(I>1)for(var D=0;D<I;D++){var M=parseInt(w[D],10);if(!(M>0)){P.length=0;break}var A=D+1,q=C(A);A!==I&&(q+=" > li:nth-child("+M+")"),P=P.find(q)}else 1===I&&L>1&&(P=P.find(C(L)));if(!P.is(d)&&k>1){D=0;for(var E=P.length;D<E;D++)P.eq(D).children("li:nth-child("+k+"n)").next("li").prev("li").after('<li class="'+i.cut+'">&nbsp;</li>')}}r.$depthCutItem=r.$depthList.children("li."+i.cut);N=0;for(var j=r.$depthItem.length;N<j;N++){var O=r.$depthItem.eq(N);O.find("div[data-menu-depth]:first").length?O.addClass(i.has):O.addClass(i.solo)}r.openMenu=function(a){var n=e(this).parents("li"),s=n.first(),l=n.last(),o=l.find('div[data-menu-depth="2"]'),d=T(n.prev("li").get(),"prev"),c=T(n.next("li").get(),"next");if("mouse"===r.event)r.closeMenu.call(this,a);else{var v=n.find("[data-menu-text]:first").filter("a, button").closest("li");v.add(v.siblings("li")).removeClass(i.activePrev+" "+i.active+" "+i.activeNext)}if(t.addClass(r.className.globalActive),d.addClass(i.activePrev),n.addClass(i.active),c.addClass(i.activeNext),y(l.add(l.find("ul[data-menu-list] > li")).filter("."+i.active).last().find("[data-menu-text]:first").filter("a, button")[0]),1===r.type||2===r.type){var h=s.find("div[data-menu-depth]:first");function u(){var t="";if(1===r.type){t=[];for(var a=0,n=r.$depth2.length;a<n;a++)t[a]=r.$depth2.eq(a).children().filter(function(t,a){var n=e(a).css("position");return"static"===n||"relative"===n}).first().outerHeight()||0;t=Math.max.apply(null,t)||""}else 2===r.type&&(t=o.children().filter(function(t,a){var n=e(a).css("position");return"static"===n||"relative"===n}).first().outerHeight()||"");t&&(t+=$.height,t+="px"),p.height=t}u(),h.length&&h.one("transitionend."+r.namespace,function(e){s.hasClass(i.active)&&u()})}a.stopPropagation()},r.closeMenu=function(a){var n=e(this);if("mouse"===r.event)t.removeClass(r.className.globalActive),o(d,i.state),1!==r.type&&2!==r.type||(p.height=""),r.$depthItem.removeClass(i.activePrev+" "+i.active+" "+i.activeNext);else{var s=this,l=n.parents("li");if(n.is(r.$depthLastText)){var c=T(l.prev("li").get(),"prev"),v=T(l.next("li").get(),"next");s=l.last().find('[data-menu-text="1"]').filter("a, button")[0],c.removeClass(i.activePrev),l.removeClass(i.active),v.removeClass(i.activeNext),o(d,i.state)}else{var h=l.first(),u=T(h.prev("li")[0],"prev"),f=T(h.next("li")[0],"next");u.removeClass(i.activePrev),h.removeClass(i.active),f.removeClass(i.activeNext),y(l.eq(1).find("[data-menu-text]:first").filter("a, button")[0])}r.$depth1Text.is(s)&&(t.removeClass(r.className.globalActive),1!==r.type&&2!==r.type||(p.height=""))}a.stopPropagation()},r.toggleMenu=function(t){for(var a=e(this),n=a.closest("li"),s=n.find("div[data-menu-depth]:first"),l=s.find("ul[data-menu-list]:first > li a[data-menu-text]:first-of-type"),o=this.tagName.toLowerCase(),d=n.hasClass(i.active),c=a.attr("href")||"",p=!1,v=0,h=l.length;v<h;v++)if(c===l.eq(v).attr("href")){p=!0;break}s.length&&"none"!==s.css("display")&&(d?"button"!==o&&!p&&window.confirm(r.confirm)||(b(this),t.preventDefault()):(r.openMenu.call(this,t),t.preventDefault())),t.stopPropagation()},"mouse"===r.event?(r.$depthAndText.on("mouseover."+r.namespace,r.openMenu),r.$depth1.on("mouseover."+r.namespace,function(a){t.hasClass(r.className.globalActive)&&(1===r.type&&e(this).is(a.target)||2===r.type&&!r.$depthTitle1.add(r.$depthTitle1.find("*")).is(a.target))&&b(this)}).on("mouseleave."+r.namespace,function(e){b(this)}),r.$depthTitle1.on("focusin."+r.namespace,function(e){1===r.type&&r.openMenu.call(this,e)}).on("focusout."+r.namespace,function(e){1===r.type&&b(this)}),r.$depthTitle2.on("mouseout."+r.namespace,function(e){1===r.type&&b(this)}),r.$depthText.on("keydown."+r.namespace,function(e){13===(e.keyCode||e.which)&&r.toggleMenu.call(this,e)})):r.$depthText.on("click."+r.namespace,r.toggleMenu),r.$openElement.on("click."+r.namespace,function(e){t.toggleClass(r.className.globalOpen)}),r.$closeElement.on("click."+r.namespace,function(e){t.removeClass(r.className.globalOpen)}),a.push({element:c,option:r}),b(c)}return d}})}(window.jQuery)}catch(e){console.error(e)}